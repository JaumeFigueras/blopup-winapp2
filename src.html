

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Source Files &mdash; BLOPUP-WinApp 0.2 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=10f1778b"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Data Model" href="src/data_model.html" />
    <link rel="prev" title="Deploying Sphinx Documentation to GitHub" href="setup/deploy_sphinx_to_github.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            BLOPUP-WinApp
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="setup.html">Setup</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Source Files</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#main-py">main.py</a></li>
<li class="toctree-l2"><a class="reference internal" href="#resources-qrc">resources.qrc</a></li>
<li class="toctree-l2"><a class="reference internal" href="#i18n-blopup-pro">i18n - blopup.pro</a></li>
<li class="toctree-l2"><a class="reference internal" href="#data-model">Data Model</a><ul>
<li class="toctree-l3"><a class="reference internal" href="src/data_model.html">Data Model</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#json-decoders">JSON Decoders</a><ul>
<li class="toctree-l3"><a class="reference internal" href="src/json_encoders.html">JSON Encoders</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#user-interface">User Interface</a><ul>
<li class="toctree-l3"><a class="reference internal" href="src/ui.html">User Interface</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#openmrs-remote-api">OpenMRS Remote API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="src/remote_api.html">OpenMRS Remote API</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="test.html">Unit and UI Test Files</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">BLOPUP-WinApp</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Source Files</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/src.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="source-files">
<h1>Source Files<a class="headerlink" href="#source-files" title="Link to this heading"></a></h1>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#main-py" id="id1">main.py</a></p></li>
<li><p><a class="reference internal" href="#resources-qrc" id="id2">resources.qrc</a></p></li>
<li><p><a class="reference internal" href="#i18n-blopup-pro" id="id3">i18n - blopup.pro</a></p></li>
<li><p><a class="reference internal" href="#data-model" id="id4">Data Model</a></p></li>
<li><p><a class="reference internal" href="#json-decoders" id="id5">JSON Decoders</a></p></li>
<li><p><a class="reference internal" href="#user-interface" id="id6">User Interface</a></p></li>
<li><p><a class="reference internal" href="#openmrs-remote-api" id="id7">OpenMRS Remote API</a></p></li>
</ul>
</nav>
<p>All the code is under the <code class="docutils literal notranslate"><span class="pre">src</span></code> folder. It contains the main window, the QT resources file (for the
graphical user interface and the internationalization (i18n) configuration files</p>
<section id="main-py">
<h2><a class="toc-backref" href="#id1" role="doc-backlink">main.py</a><a class="headerlink" href="#main-py" title="Link to this heading"></a></h2>
<p>This is the main file to run the application. The application is designed with modules, not to run like a
regular script. To run it type:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python3<span class="w"> </span>-m<span class="w"> </span>src.main
</pre></div>
</div>
</div></blockquote>
</section>
<section id="resources-qrc">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">resources.qrc</a><a class="headerlink" href="#resources-qrc" title="Link to this heading"></a></h2>
<p>The resources definition file is the configuration file for the different images, icons and other display
elements required to run the main application. The resources have to be compiled with the PyQt5 resource
compiler. To run it type:</p>
<blockquote>
<div><div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pyrcc5<span class="w"> </span>src/resources.qrc<span class="w"> </span>-o<span class="w"> </span>src/resources.py
</pre></div>
</div>
</div></blockquote>
<p>This will generate the <code class="docutils literal notranslate"><span class="pre">resources.py</span></code> file that is the necessary file for python to load the resources in
the main application</p>
</section>
<section id="i18n-blopup-pro">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">i18n - blopup.pro</a><a class="headerlink" href="#i18n-blopup-pro" title="Link to this heading"></a></h2>
<p>The transaltion project file <code class="docutils literal notranslate"><span class="pre">blopup.pro</span></code> is the file that contains the locations of the translation strings,
the python files that contain literal strings to translate and the graphical user interface files with literal
strings to translate.</p>
<p>The translations are done with the <a class="reference external" href="https://doc.qt.io/archives/qt-5.15/qtlinguist-index.html">QTLinguist</a>
application. Be careful because the project still uses Qt5, not Qt6.</p>
<p>The normal workflow to translate qith <strong>QTLinguist</strong> is:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Create the code and the <code class="docutils literal notranslate"><span class="pre">.ui</span></code> user interface files</p></li>
<li><p>Add them to the <code class="docutils literal notranslate"><span class="pre">blopup.pro</span></code> file</p></li>
<li><p>Generate or update the translation strings for the desired locales (that are defined in the <code class="docutils literal notranslate"><span class="pre">blopup.pro</span></code> file</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pylupdate5<span class="w"> </span>-noobsolete<span class="w"> </span>src/blopup.pro
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li><p>Use <strong>QTLinguist</strong> to edit and generate the strings</p></li>
</ol>
</div></blockquote>
<p>All the <code class="docutils literal notranslate"><span class="pre">.ts</span></code> and <code class="docutils literal notranslate"><span class="pre">.qm</span></code> files are stored in the <code class="docutils literal notranslate"><span class="pre">i18n</span></code> folder</p>
</section>
<section id="data-model">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Data Model</a><a class="headerlink" href="#data-model" title="Link to this heading"></a></h2>
<p>The data model folder <code class="docutils literal notranslate"><span class="pre">data_model</span></code> is where all the classes that model the <strong>OpenMRS</strong> elements and types are
modelled. Although not necessary, the SQLAlchemy ORM is used to be prepared to store locally any possible replicas
of the data stored in the Open MRS servers.</p>
<p>The objects currently modelled are:</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="src/data_model.html">Data Model</a><ul>
<li class="toctree-l2"><a class="reference internal" href="src/data_model/user.html">User</a></li>
<li class="toctree-l2"><a class="reference internal" href="src/data_model/person.html">Person</a></li>
</ul>
</li>
</ul>
</div>
</section>
<section id="json-decoders">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">JSON Decoders</a><a class="headerlink" href="#json-decoders" title="Link to this heading"></a></h2>
<p>To decode the <strong>OpenMRS</strong> REST API calls, that are serialized with JSON, it is possible to have receive some
<code class="docutils literal notranslate"><span class="pre">null</span></code> or <code class="docutils literal notranslate"><span class="pre">None</span></code> values, that can break the specific decoder for each API call. This module provides a
JSON decoder that skip null objects (not null values). To use it as this example:</p>
<blockquote>
<div><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">json_str</span><span class="p">,</span> <span class="bp">cls</span><span class="o">=</span><span class="n">NoNoneInList</span><span class="p">,</span> <span class="n">object_hook</span><span class="o">=</span><span class="n">Patient</span><span class="o">.</span><span class="n">object_hook_search_custom</span><span class="p">)</span>
</pre></div>
</div>
</div></blockquote>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="src/json_encoders.html">JSON Encoders</a><ul>
<li class="toctree-l2"><a class="reference internal" href="src/json_encoders/no_none_in_list.html">NoNoneInList</a></li>
</ul>
</li>
</ul>
</div>
</section>
<section id="user-interface">
<h2><a class="toc-backref" href="#id6" role="doc-backlink">User Interface</a><a class="headerlink" href="#user-interface" title="Link to this heading"></a></h2>
<p>The user interface is build up with <strong>Qt5</strong> and its bindings with Python (PyQt5). Qt is a platform
independent GUI that can work correctly in Windows, Linux and MacOS.</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="src/ui.html">User Interface</a><ul>
<li class="toctree-l2"><a class="reference internal" href="src/ui.html#dialogs">Dialogs</a></li>
</ul>
</li>
</ul>
</div>
</section>
<section id="openmrs-remote-api">
<h2><a class="toc-backref" href="#id7" role="doc-backlink">OpenMRS Remote API</a><a class="headerlink" href="#openmrs-remote-api" title="Link to this heading"></a></h2>
<p>The <strong>BLOPUP</strong> project rely with OpenMRS system that works as a server and <strong>BLOPUP Windows Application</strong>
acts as a client to the OenMRS RESTFul API. This client generates all the API calls necessary for all the
CRUD tasks needed.</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="src/remote_api.html">OpenMRS Remote API</a></li>
</ul>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="setup/deploy_sphinx_to_github.html" class="btn btn-neutral float-left" title="Deploying Sphinx Documentation to GitHub" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="src/data_model.html" class="btn btn-neutral float-right" title="Data Model" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, BLOPUP.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>