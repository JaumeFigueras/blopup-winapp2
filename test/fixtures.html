

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Fixtures &mdash; BLOPUP-WinApp 0.2 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />

  
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=10f1778b"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="application.py" href="fixtures/ui/application.html" />
    <link rel="prev" title="conftest.py" href="conftest.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            BLOPUP-WinApp
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../setup.html">Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../src.html">Source Files</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../test.html">Unit and UI Test Files</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../test.html#what-is-testing">What is testing?</a></li>
<li class="toctree-l2"><a class="reference internal" href="../test.html#unit-tests">Unit tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="../test.html#ui-tests">UI tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="../test.html#conftest-py">conftest.py</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../test.html#fixtures">Fixtures</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="conftest.html">conftest.py</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Fixtures</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#example">Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="#scopes">Scopes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#autouse-fixtures">Autouse fixtures</a></li>
<li class="toctree-l4"><a class="reference internal" href="#usage-in-this-project">Usage in this project</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#fixtures-for-blopup">Fixtures for BLOPUP</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#ui-fixtures">UI Fixtures</a></li>
<li class="toctree-l4"><a class="reference internal" href="#openmrs-fixtures">OpenMRS Fixtures</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../test.html#tests">Tests</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">BLOPUP-WinApp</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../test.html">Unit and UI Test Files</a></li>
      <li class="breadcrumb-item active">Fixtures</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/test/fixtures.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="fixtures">
<h1>Fixtures<a class="headerlink" href="#fixtures" title="Link to this heading"></a></h1>
<p>Fixtures are a powerful feature of <code class="docutils literal notranslate"><span class="pre">pytest</span></code> that provide a way to set up and
tear down resources needed by tests. Instead of duplicating setup code in every
test, fixtures allow you to declare reusable components that can be shared
across multiple test functions or modules.</p>
<p>In practice, a fixture is simply a Python function decorated with
<code class="docutils literal notranslate"><span class="pre">&#64;pytest.fixture</span></code>. When a test function requests a fixture by name (as a
function argument), pytest automatically calls the fixture, provides its return
value to the test, and manages any cleanup afterwards.</p>
<section id="example">
<h2>Example<a class="headerlink" href="#example" title="Link to this heading"></a></h2>
<p>A simple fixture that provides a temporary dictionary:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pytest</span>

<span class="nd">@pytest</span><span class="o">.</span><span class="n">fixture</span>
<span class="k">def</span><span class="w"> </span><span class="nf">empty_dict</span><span class="p">():</span>
    <span class="k">return</span> <span class="p">{}</span>

<span class="k">def</span><span class="w"> </span><span class="nf">test_insert</span><span class="p">(</span><span class="n">empty_dict</span><span class="p">):</span>
    <span class="n">empty_dict</span><span class="p">[</span><span class="s2">&quot;key&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;value&quot;</span>
    <span class="k">assert</span> <span class="n">empty_dict</span><span class="p">[</span><span class="s2">&quot;key&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;value&quot;</span>
</pre></div>
</div>
<p>Here, the test <code class="docutils literal notranslate"><span class="pre">test_insert</span></code> receives an empty dictionary from the fixture
<code class="docutils literal notranslate"><span class="pre">empty_dict</span></code>. Each time the test runs, pytest creates a fresh dictionary.</p>
</section>
<section id="scopes">
<h2>Scopes<a class="headerlink" href="#scopes" title="Link to this heading"></a></h2>
<p>Fixtures can have different scopes that control how often they are created:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">function</span></code>: (default) A new fixture instance is created for each test.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">class</span></code>: The fixture is created once per test class.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">module</span></code>: The fixture is created once per test module.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">session</span></code>: The fixture is created once for the entire test session.</p></li>
</ul>
</section>
<section id="autouse-fixtures">
<h2>Autouse fixtures<a class="headerlink" href="#autouse-fixtures" title="Link to this heading"></a></h2>
<p>Fixtures can also be declared with <code class="docutils literal notranslate"><span class="pre">autouse=True</span></code>. In this case, pytest will
automatically use the fixture in all relevant tests without the need to request
it explicitly.</p>
</section>
<section id="usage-in-this-project">
<h2>Usage in this project<a class="headerlink" href="#usage-in-this-project" title="Link to this heading"></a></h2>
<p>In this project, fixtures are used extensively to:</p>
<ul class="simple">
<li><p>Provide isolated <code class="docutils literal notranslate"><span class="pre">QSettings</span></code> objects so tests do not pollute real user
settings.</p></li>
<li><p>Create and manage the <code class="docutils literal notranslate"><span class="pre">MainWindow</span></code> instance for UI tests, using <code class="docutils literal notranslate"><span class="pre">pytest-qt</span></code>.</p></li>
<li><p>Share common setup code (such as database state, API sessions, or application
configuration) across multiple test files.</p></li>
</ul>
<p>This makes tests more concise, easier to read, and less error-prone, while
ensuring proper setup and cleanup of resources.</p>
</section>
</section>
<section id="fixtures-for-blopup">
<h1>Fixtures for BLOPUP<a class="headerlink" href="#fixtures-for-blopup" title="Link to this heading"></a></h1>
<section id="ui-fixtures">
<h2>UI Fixtures<a class="headerlink" href="#ui-fixtures" title="Link to this heading"></a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="fixtures/ui/application.html">application.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="fixtures/ui/dialogs/about.html">about.py</a></li>
</ul>
</div>
</section>
<section id="openmrs-fixtures">
<h2>OpenMRS Fixtures<a class="headerlink" href="#openmrs-fixtures" title="Link to this heading"></a></h2>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="conftest.html" class="btn btn-neutral float-left" title="conftest.py" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="fixtures/ui/application.html" class="btn btn-neutral float-right" title="application.py" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, BLOPUP.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>